<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript | MetaMask Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/metamask-fox.svg">
    <link rel="manifest" href="/manifest.json">
    <script data-domain="docs.metamask.io" src="https://plausible.io/js/plausible.js"></script>
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Developer documentation for the MetaMask Ethereum wallet">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/assets/css/0.styles.196e21d4.css" as="style"><link rel="preload" href="/assets/js/app.e060740e.js" as="script"><link rel="preload" href="/assets/js/4.cf404e46.js" as="script"><link rel="preload" href="/assets/js/27.b2cd3397.js" as="script"><link rel="preload" href="/assets/js/8.6cff39f1.js" as="script"><link rel="prefetch" href="/assets/js/10.2ed2ccc8.js"><link rel="prefetch" href="/assets/js/11.b0cac00b.js"><link rel="prefetch" href="/assets/js/12.4f8c38cd.js"><link rel="prefetch" href="/assets/js/13.b8bd2310.js"><link rel="prefetch" href="/assets/js/14.ddf534ce.js"><link rel="prefetch" href="/assets/js/15.4a1d346d.js"><link rel="prefetch" href="/assets/js/16.49c55374.js"><link rel="prefetch" href="/assets/js/17.8c8ad589.js"><link rel="prefetch" href="/assets/js/18.e99d1669.js"><link rel="prefetch" href="/assets/js/19.1890ec53.js"><link rel="prefetch" href="/assets/js/20.350bcecd.js"><link rel="prefetch" href="/assets/js/21.fa603726.js"><link rel="prefetch" href="/assets/js/22.4eb93748.js"><link rel="prefetch" href="/assets/js/23.20a105ae.js"><link rel="prefetch" href="/assets/js/24.c34a87dc.js"><link rel="prefetch" href="/assets/js/25.0781c253.js"><link rel="prefetch" href="/assets/js/26.f343c9fc.js"><link rel="prefetch" href="/assets/js/28.ab69968a.js"><link rel="prefetch" href="/assets/js/29.13b3e16a.js"><link rel="prefetch" href="/assets/js/30.ea380391.js"><link rel="prefetch" href="/assets/js/31.fa86b382.js"><link rel="prefetch" href="/assets/js/32.407ffaab.js"><link rel="prefetch" href="/assets/js/33.11263c7a.js"><link rel="prefetch" href="/assets/js/34.27f698b7.js"><link rel="prefetch" href="/assets/js/35.fdd91895.js"><link rel="prefetch" href="/assets/js/36.fbfd6bfc.js"><link rel="prefetch" href="/assets/js/37.0bbaf94e.js"><link rel="prefetch" href="/assets/js/38.4551dae4.js"><link rel="prefetch" href="/assets/js/39.52740b38.js"><link rel="prefetch" href="/assets/js/40.c2aa7bc6.js"><link rel="prefetch" href="/assets/js/41.74fe147f.js"><link rel="prefetch" href="/assets/js/42.77b05ad8.js"><link rel="prefetch" href="/assets/js/43.77b4f9dc.js"><link rel="prefetch" href="/assets/js/44.db640888.js"><link rel="prefetch" href="/assets/js/5.92ba9df5.js"><link rel="prefetch" href="/assets/js/6.de575d78.js"><link rel="prefetch" href="/assets/js/7.4a88d7c1.js"><link rel="prefetch" href="/assets/js/9.156dc92b.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.6cb0424f.js"><link rel="prefetch" href="/assets/js/vendors~notification.d3c8a3f6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.196e21d4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/metamask-fox.svg" alt="MetaMask Docs" class="logo"> <span class="site-name can-hide">MetaMask Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div> <a href="https://github.com/MetaMask/metamask-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div> <a href="https://github.com/MetaMask/metamask-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/guide/common-terms.html" class="sidebar-link">Common Terms</a></li><li><a href="/guide/initializing-dapps.html" class="sidebar-link">Initializing Dapps</a></li><li><a href="/guide/accessing-accounts.html" class="sidebar-link">Accessing Accounts</a></li><li><a href="/guide/sending-transactions.html" class="sidebar-link">Sending Transactions</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>API Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/ethereum-provider.html" class="sidebar-link">Ethereum Provider API</a></li><li><a href="/guide/provider-migration.html" class="sidebar-link">Provider Migration Guide</a></li><li><a href="/guide/rpc-api.html" class="sidebar-link">RPC API</a></li><li><a href="/guide/signing-data.html" class="sidebar-link">Signing Data</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Best Practices</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/registering-function-names.html" class="sidebar-link">Registering Your Contract's Method Names</a></li><li><a href="/guide/registering-your-token.html" class="sidebar-link">Registering Tokens with Users</a></li><li><a href="/guide/defining-your-icon.html" class="sidebar-link">Defining Your App's Icon</a></li><li><a href="/guide/onboarding-library.html" class="sidebar-link">Onboarding Library</a></li><li><a href="/guide/metamask-extension-provider.html" class="sidebar-link">MetaMask Extension Provider</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Mobile</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/mobile-getting-started.html" class="sidebar-link">Introduction</a></li><li><a href="/guide/site-compatibility-checklist.html" class="sidebar-link">Site Compatibility Checklist</a></li><li><a href="/guide/mobile-best-practices.html" class="sidebar-link">Best Practices</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MetaMask SDK</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/metamask-sdk-intro.html" class="sidebar-link">Welcome</a></li><li><a href="/guide/metamask-sdk-concepts.html" class="sidebar-link">Concepts</a></li><li><a href="/guide/metamask-sdk-js.html" aria-current="page" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/metamask-sdk-js.html#getting-started" class="sidebar-link">Getting started</a></li><li class="sidebar-sub-header"><a href="/guide/metamask-sdk-js.html#options" class="sidebar-link">Options</a></li><li class="sidebar-sub-header"><a href="/guide/metamask-sdk-js.html#web-d-apps" class="sidebar-link">Web (d)apps</a></li><li class="sidebar-sub-header"><a href="/guide/metamask-sdk-js.html#react-native" class="sidebar-link">React Native</a></li><li class="sidebar-sub-header"><a href="/guide/metamask-sdk-js.html#nodejs" class="sidebar-link">NodeJS</a></li><li class="sidebar-sub-header"><a href="/guide/metamask-sdk-js.html#electron" class="sidebar-link">Electron</a></li></ul></li><li><a href="/guide/metamask-sdk-mobile.html" class="sidebar-link">Mobile apps</a></li><li><a href="/guide/metamask-sdk-gaming.html" class="sidebar-link">Gaming</a></li><li><a href="/guide/metamask-sdk-known-issues-future-work.html" class="sidebar-link">Known Issues &amp; Future Work</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Snaps</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/snaps.html" class="sidebar-link">Introduction</a></li><li><a href="/guide/snaps-development-guide.html" class="sidebar-link">Development Guide</a></li><li><a href="/guide/snaps-rpc-api.html" class="sidebar-link">JSON-RPC API</a></li><li><a href="/guide/snaps-patching-dependencies.html" class="sidebar-link">Patching Dependencies</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Resources</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/create-dapp.html" class="sidebar-link">Create A Simple Dapp</a></li><li><a href="/guide/contributors.html" class="sidebar-link">Contributors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h1> <p>The JavaScript version of the MetaMask SDK enables all JavaScript-based apps to easily connect with a MetaMask wallet client. It supports <a href="#web-d-apps">web apps</a> on desktop and mobile, whether you are using <a href="#reactjs-and-similar-web-apps-frameworks">React or similar frameworks</a> or even <a href="#vanilla-javascript">pure javascript</a>. It also supports <a href="#react-native">React Native</a>, <a href="#nodejs">NodeJS</a> and <a href="#electron">electron</a>.</p> <p>To install, import, instantiate and use the SDK, see the <a href="#getting-started">getting started section</a>. Deviations from the standard are highlighted below with linked example apps.</p> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h2> <h3 id="download-the-metamask-sdk"><a href="#download-the-metamask-sdk" class="header-anchor">#</a> Download the MetaMask SDK</h3> <p><a href="https://c0f4f41c-2f55-4863-921b-sdk-docs.github.io/downloads/metamask-sdk-v0.0.1.tgz" target="_blank" rel="noopener noreferrer">Download the MetaMask SDK via this link<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and insert it at the root of your project.</p> <h3 id="install-the-sdk"><a href="#install-the-sdk" class="header-anchor">#</a> Install the SDK</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> file:./metamask-sdk-v0.0.1.tgz
or
<span class="token function">npm</span> i file:./metamask-sdk-v0.0.1.tgz
</code></pre></div><p>Note: We will later publish the SDK to npm, which will let developers install via <code>yarn add @metamask/sdk</code>. We're going with compressed files only for the private beta.</p> <h3 id="import-the-sdk"><a href="#import-the-sdk" class="header-anchor">#</a> Import the SDK</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> MetaMaskSDK <span class="token keyword">from</span> <span class="token string">'@metamask/sdk'</span>
</code></pre></div><h3 id="instantiate-the-sdk"><a href="#instantiate-the-sdk" class="header-anchor">#</a> Instantiate the SDK</h3> <p>For all Javascript-based apps, instantiate the SDK like this:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">MMSDK</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MetaMaskSDK</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
<span class="token keyword">const</span> ethereum <span class="token operator">=</span> <span class="token constant">MMSDK</span><span class="token punctuation">.</span><span class="token function">getProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// You can also access via window.ethereum</span>
</code></pre></div><p>For a list of possible options check <a href="#options">here</a></p> <h3 id="use-the-sdk"><a href="#use-the-sdk" class="header-anchor">#</a> Use the SDK</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ethereum<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'eth_requestAccounts'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>You should always call eth_requestAccounts first!</p> <p>For possible methods, check <a href="/guide/guide/ethereum-provider.html">the Ethereum Provider API</a></p> <h2 id="options"><a href="#options" class="header-anchor">#</a> Options</h2> <table><thead><tr><th>Option name</th> <th style="text-align:center;">Type</th> <th style="text-align:center;">Default value</th> <th>Description</th></tr></thead> <tbody><tr><td><code>dappMetadata</code></td> <td style="text-align:center;"><code>{name: &quot;My Dapp&quot;, url: &quot;https://mydapp.com&quot;}</code></td> <td style="text-align:center;"><code>undefined</code></td> <td>dappMetadata is only required for non-web dapps (for example React Native and Unity)</td></tr> <tr><td><code>injectProvider</code></td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:center;"><code>true</code></td> <td>Note: will not inject in NodeJS or React Native as the window object is unavailable.</td></tr> <tr><td><code>forceInjectProvider</code></td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:center;"><code>false</code></td> <td>Forces injection even if another provider is already present on the window object.</td></tr> <tr><td><code>forceDeleteProvider</code></td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:center;"><code>false</code></td> <td>Forces deletion of a provider that exists on a window.</td></tr> <tr><td><code>checkInstallationImmediately</code></td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:center;"><code>false</code></td> <td>The SDK checks if MetaMask is installed when a call to <code>eth_requestAccounts</code> is made. When <code>true</code>, it checks before any call is made.</td></tr> <tr><td><code>checkInstallationOnAllCalls</code></td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:center;"><code>false</code></td> <td>Normally checked when a call to <code>eth_requestAccounts</code> is made. When <code>true</code>, it checks on all calls.</td></tr> <tr><td><code>shouldShimWeb3</code></td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:center;"><code>true</code></td> <td>Set as <code>true</code> if <code>window.web3</code> should be shimmed for legacy compatibility purposes. <a href="https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3" target="_blank" rel="noopener noreferrer">More info<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>preferDesktop</code></td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:center;"><code>false</code></td> <td>For a web dapp running on a desktop browser without a MetaMask extension, the SDK gives the option to connect with a MetaMask Mobile wallet via a QR code. When <code>true</code>, the SDK guides the user to install the MetaMask extension instead.</td></tr> <tr><td><code>openDeeplink</code></td> <td style="text-align:center;"><code>(deeplinkUrl: string) =&gt; void</code></td> <td style="text-align:center;"><code>undefined</code></td> <td>Platforms open deep links differently. e.g, web: <code>window.open</code> versus React Native: <code>Linking.open</code>. This function retrieves the deep link url and allows developers to customize how it opens.</td></tr> <tr><td><code>communicationLayerPreference</code></td> <td style="text-align:center;"><code>&quot;socket&quot; or &quot;webrtc&quot;</code></td> <td style="text-align:center;"><code>socket</code></td> <td>Defines the communication library that the dapp and MetaMask wallet use to communicate with each other. Waku coming soon.</td></tr> <tr><td><code>webRTCLib</code></td> <td style="text-align:center;"><code>WebRTC Lib</code></td> <td style="text-align:center;"><code>undefined</code></td> <td>Not installed on the SDK by default. Check the React Native section to see how to install it.</td></tr> <tr><td><code>WalletConnectInstance</code></td> <td style="text-align:center;"><code>WalletConnect Lib</code></td> <td style="text-align:center;"><code>undefined</code></td> <td>Another way of connecting a dapp to MetaMask. Not installed by default. Check <a href="https://docs.walletconnect.com/" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> on how to install it.</td></tr> <tr><td><code>forceRestartWalletConnect</code></td> <td style="text-align:center;"><code>boolean</code></td> <td style="text-align:center;"><code>false</code></td> <td>Set <code>forceRestartWalletConnect</code> to <code>true</code> to kill the previous WalletConnect session and start another one.</td></tr> <tr><td><code>transports</code></td> <td style="text-align:center;"><code>['websocket', 'polling']</code></td> <td style="text-align:center;"><code>undefined</code></td> <td>Used to set the preference on socket.io transports to 'use'. Check the socket.io <a href="https://socket.io/docs/v4/" target="_blank" rel="noopener noreferrer">documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more details.</td></tr> <tr><td><code>timer</code></td> <td style="text-align:center;"><code>BackgroundTimer</code></td> <td style="text-align:center;"><code>undefined</code></td> <td>Used by React Native apps to keep the app alive while in the background using <code>react-native-background-timer</code></td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If your project is a web app and <code>injectProvider</code> is <code>true</code>, then the <code>ethereum</code> object should be available in <code>window.ethereum</code>.</p></div> <h2 id="web-d-apps"><a href="#web-d-apps" class="header-anchor">#</a> Web (d)apps</h2> <p>If you are developing a web application that users can access via a desktop or mobile browser, you can import the MetaMask SDK and it will guide users to easily connect with MetaMask.</p> <p>If the user is on a desktop browser and doesn't have the MetaMask extension installed, a popup will appear that will prompt users to either install MetaMask extension or to connect with MetaMask Mobile via a QR code.</p> <p>If on a mobile browser, the SDK will automatically deeplink into MetaMask Mobile (or prompt users to install if they don't already have it) and once users accept the connection, they will be automatically redirected back to your web app. This will happen for all actions that need user approval.</p> <h4 id="reactjs-and-similar-web-apps-frameworks"><a href="#reactjs-and-similar-web-apps-frameworks" class="header-anchor">#</a> ReactJS and similar web apps frameworks</h4> <p>If you are using React or similar frameworks please follow the <a href="#getting-started">getting started installation guide</a> first and make sure to check the possible <a href="#options">options</a>.</p> <p>That's it!</p> <h4 id="vanilla-javascript"><a href="#vanilla-javascript" class="header-anchor">#</a> Vanilla Javascript</h4> <p>If your project just uses pure javascript, you can import the SDK by putting a script on the head section of your website:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
<span class="token operator">...</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://c0f4f41c-2f55-4863-921b-sdk-docs.github.io/cdn/metamask-sdk.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">const</span> <span class="token constant">MMSDK</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MetaMaskSDK</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> ethereum <span class="token operator">=</span> <span class="token constant">MMSDK</span><span class="token punctuation">.</span><span class="token function">getProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// You can also access via window.ethereum</span>
    ethereum<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'eth_requestAccounts'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
</code></pre></div><p>Make sure to check the possible <a href="#options">options</a>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You should always call <code>eth_requestAccounts</code> first, that is what prompts the installation/connection popup to appear!</p> <p>For other possible methods, check <a href="/guide/guide/ethereum-provider.html">the Ethereum Provider API</a></p></div> <p>That's it!</p> <h3 id="recordings"><a href="#recordings" class="header-anchor">#</a> Recordings</h3> <ul><li><a href="https://recordit.co/g9u0X2S60Z" target="_blank" rel="noopener noreferrer">Destkop web browser<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://recordit.co/2qy9lCVHWC" target="_blank" rel="noopener noreferrer">Mobile web browser<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h3> <ul><li><a href="https://c0f4f41c-2f55-4863-921b-sdk-docs.github.io/downloads/create-react-app-example.zip" target="_blank" rel="noopener noreferrer">React<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h4 id="install-the-example-yarn"><a href="#install-the-example-yarn" class="header-anchor">#</a> Install the example: <code>yarn</code></h4> <h4 id="run-the-example-yarn-start"><a href="#run-the-example-yarn-start" class="header-anchor">#</a> Run the example: <code>yarn start</code></h4> <h2 id="react-native"><a href="#react-native" class="header-anchor">#</a> React Native</h2> <p>You can import the MetaMask SDK into your React Native app to enable your users to easily connect with their MetaMask Mobile wallet. The SDK will automatically deeplink your users into their MetaMask Mobile wallet and once users accept the connection, they will be redirected back automatically to your app. This will happen for all actions that need user approval.</p> <h3 id="installation-specifics"><a href="#installation-specifics" class="header-anchor">#</a> Installation specifics</h3> <h4 id="_1-install-rn-nodeify"><a href="#_1-install-rn-nodeify" class="header-anchor">#</a> 1. Install <a href="https://github.com/tradle/rn-nodeify" target="_blank" rel="noopener noreferrer">rn-nodeify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> --dev rn-nodeify
or
<span class="token function">npm</span> i --dev rn-nodeify
</code></pre></div><h4 id="_2-install-rn-nodeify-libraries"><a href="#_2-install-rn-nodeify-libraries" class="header-anchor">#</a> 2. Install rn-nodeify libraries</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> react-native-crypto
<span class="token function">yarn</span> <span class="token function">add</span> react-native-randombytes
<span class="token function">yarn</span> <span class="token function">add</span> crypto
<span class="token function">yarn</span> <span class="token function">add</span> process
<span class="token function">yarn</span> <span class="token function">add</span> stream
<span class="token function">yarn</span> <span class="token function">add</span> events
</code></pre></div><h4 id="_3-insert-rn-nodeify-post-install-script-into-package-json-scripts"><a href="#_3-insert-rn-nodeify-post-install-script-into-package-json-scripts" class="header-anchor">#</a> 3. Insert rn-nodeify post install script into <code>package.json</code> -&gt; <code>&quot;scripts&quot;</code></h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token string">&quot;postinstall&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;rn-nodeify --install 'crypto,process,stream,events' --hack&quot;</span>
</code></pre></div><h4 id="_4-import-rn-nodeify-shim-js"><a href="#_4-import-rn-nodeify-shim-js" class="header-anchor">#</a> 4. Import rn-nodeify shim.js</h4> <p>rn-nodeify will create a shim.js file in your project root directory. You should import it in the root file of your application.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">import</span> <span class="token string">'./shim'</span>
</code></pre></div><h4 id="_5-install-react-native-background-timer"><a href="#_5-install-react-native-background-timer" class="header-anchor">#</a> 5. Install react-native-background-timer</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> react-native-background-timer
<span class="token builtin class-name">cd</span> ios <span class="token operator">&amp;&amp;</span> pod <span class="token function">install</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
</code></pre></div><h4 id="_6-install-the-metamask-sdk"><a href="#_6-install-the-metamask-sdk" class="header-anchor">#</a> 6. Install the MetaMask SDK</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @metamask/sdk
</code></pre></div><p>For more information on how to install the MetaMask SDK, please follow the <a href="#getting-started">getting started installation guide</a>.</p> <h4 id="_7-run-postinstall"><a href="#_7-run-postinstall" class="header-anchor">#</a> 7. Run postinstall</h4> <p>Make sure you run the postinstall script after everything is installed</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> postinstall
</code></pre></div><h4 id="_8-install-pods"><a href="#_8-install-pods" class="header-anchor">#</a> 8. Install pods</h4> <p>Finally install the necessary pods that came with the libraries</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ios <span class="token operator">&amp;&amp;</span> pod <span class="token function">install</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
</code></pre></div><p>Now you should be able to use the MetaMask SDK!</p> <h4 id="use-the-sdk-2"><a href="#use-the-sdk-2" class="header-anchor">#</a> Use the SDK</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> MetaMaskSDK <span class="token keyword">from</span> <span class="token string">'@metamask/sdk'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Linking <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span>
<span class="token keyword">import</span> BackgroundTimer <span class="token keyword">from</span> <span class="token string">'react-native-background-timer'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">MMSDK</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MetaMaskSDK</span><span class="token punctuation">(</span><span class="token punctuation">{</span>   
    <span class="token function-variable function">openDeeplink</span><span class="token operator">:</span> <span class="token parameter">link</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        Linking<span class="token punctuation">.</span><span class="token function">openURL</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Use React Native Linking method or your favourite way of opening deeplinks</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">timer</span><span class="token operator">:</span> BackgroundTimer<span class="token punctuation">,</span> <span class="token comment">// To keep the app alive once it goes to background</span>
    <span class="token literal-property property">dappMetadata</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;My App&quot;</span><span class="token punctuation">,</span> <span class="token comment">// The name of your application</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://myapp.com&quot;</span> <span class="token comment">// The url of your website</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ethereum <span class="token operator">=</span> <span class="token constant">MMSDK</span><span class="token punctuation">.</span><span class="token function">getProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> accounts <span class="token operator">=</span> <span class="token keyword">await</span> ethereum<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'eth_requestAccounts'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You should always call <code>eth_requestAccounts</code> first--that is what prompts the deeplinking into MetaMask Mobile for connection!</p> <p>For other possible methods, check <a href="/guide/guide/ethereum-provider.html">the Ethereum Provider API</a></p></div> <p>That's it!</p> <p>NOTE: We are working on creating a <code>metamask-react-native-sdk</code> package that will install all of this automatically which will make the installation much easier for React Native apps.</p> <h3 id="recordings-2"><a href="#recordings-2" class="header-anchor">#</a> Recordings</h3> <ul><li><a href="https://recordit.co/WwZZC2TfkY" target="_blank" rel="noopener noreferrer">React Native app<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="react-native-examples"><a href="#react-native-examples" class="header-anchor">#</a> React Native examples:</h3> <ul><li><a href="https://drive.google.com/file/d/108Er9bswVe9QokE9gCWuaqoj25Uc9Xcz/view?usp=sharing" target="_blank" rel="noopener noreferrer">React Native example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h4 id="install-the-example-yarn-setup"><a href="#install-the-example-yarn-setup" class="header-anchor">#</a> Install the example: <code>yarn setup</code></h4> <h4 id="run-the-example-yarn-ios-or-yarn-android"><a href="#run-the-example-yarn-ios-or-yarn-android" class="header-anchor">#</a> Run the example: <code>yarn ios</code> or <code>yarn android</code></h4> <h2 id="nodejs"><a href="#nodejs" class="header-anchor">#</a> NodeJS</h2> <p>You can import the MetaMask SDK into your nodeJS application to enable users to easily connect with their MetaMask Mobile wallet.</p> <p>The SDK will render a QR code on the console which users can scan with their MetaMask Mobile app and now you can use all the <a href="/guide/guide/ethereum-provider.html"><code>ethereum</code> methods available</a> right from your nodeJS app!</p> <p>Follow the <a href="#getting-started">getting started installation guide</a> to see how to import the MetaMask SDK.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You should always call <code>eth_requestAccounts</code> first--that is what makes the SDK render the QR code on the console!</p> <p>For other possible methods, check <a href="/guide/guide/ethereum-provider.html">the Ethereum Provider API</a></p></div> <h3 id="recordings-3"><a href="#recordings-3" class="header-anchor">#</a> Recordings</h3> <ul><li><a href="https://recordit.co/2EiY8fQh48" target="_blank" rel="noopener noreferrer">NodeJS app<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="examples-2"><a href="#examples-2" class="header-anchor">#</a> Examples</h3> <ul><li><a href="https://c0f4f41c-2f55-4863-921b-sdk-docs.github.io/downloads/nodejs-example.zip" target="_blank" rel="noopener noreferrer">NodeJS example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h4 id="install-the-example-yarn-2"><a href="#install-the-example-yarn-2" class="header-anchor">#</a> Install the example: <code>yarn</code></h4> <h4 id="run-the-example-node"><a href="#run-the-example-node" class="header-anchor">#</a> Run the example: <code>node .</code></h4> <h2 id="electron"><a href="#electron" class="header-anchor">#</a> Electron</h2> <p>The MetaMask SDK for Electron should work exactly the same as for web apps, so please <a href="#web-d-apps">check the web apps section</a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/MetaMask/metamask-docs/edit/master/docs/guide/metamask-sdk-js.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/9/2022, 4:19:47 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/metamask-sdk-concepts.html" class="prev">
        Concepts
      </a></span> <span class="next"><a href="/guide/metamask-sdk-mobile.html">
        Mobile apps
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.e060740e.js" defer></script><script src="/assets/js/4.cf404e46.js" defer></script><script src="/assets/js/27.b2cd3397.js" defer></script><script src="/assets/js/8.6cff39f1.js" defer></script>
  </body>
</html>
